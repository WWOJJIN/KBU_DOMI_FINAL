<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Daum Postcode Service</title>
    <!-- [수정됨] body와 html이 전체 높이를 차지하도록 스타일 추가 -->
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            /* 스크롤바가 불필요하게 생기는 것을 방지 */
        }
    </style>
</head>

<body>
    <!-- 주소 검색 결과를 표시할 div 입니다. -->
    <div id="postcode-container" style="width:100%;height:100%;"></div>

    <!-- 카카오 우편번호 서비스 스크립트 -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        window.onload = function () {
            // postcode-container div를 찾습니다.
            var element = document.getElementById('postcode-container');

            // 카카오 우편번호 서비스를 생성합니다.
            new daum.Postcode({
                oncomplete: function (data) {
                    // 주소 선택 시, Flutter 앱으로 데이터를 전송합니다.
                    window.opener.postMessage(data, '*');

                    // 팝업 창을 닫습니다.
                    window.close();
                },
                // div에 바로 embed합니다.
                width: '100%',
                height: '100%',
                maxSuggestItems: 5
            }).embed(element);
        }
    </script>
</body>

</html>